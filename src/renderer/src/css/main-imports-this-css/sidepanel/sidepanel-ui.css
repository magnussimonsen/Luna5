/** Side panel UI styles */

.sidepanel-row-flex-wrap {
  display: flex;
  flex-wrap: wrap;
  align-items: center; /* Vertically center items */
  width: 100%; /* Full width to allow wrapping */
  height: fit-content; /* Height adjusts based on content */
  box-sizing: border-box; /* Include padding and border in element's total width and height */

}

.util-sidepanel-margin-left-auto {
  margin-left: auto;
  width: auto;
}

.util-sidepanel-margin-right-auto {
  margin-right: auto;
  width: auto;
}

.util-sidepanel-flex-start {
  justify-content: flex-start;
}

.util-sidepanel-flex-end {
  justify-content: flex-end;
}

.util-sidepanel-bottom-seperator-line {
  border-bottom: 1px solid var(--divider-color, #ccc);
  width: 100%;
  margin-top: 0.3em;
  margin-bottom: 0.3em;
}

.util-liststyle-none {
  list-style: none;
}
.util-margin-zero {
  margin: 0;
}

.util-padding-zero {
  padding: 0;
}

/* Sidepanel main container padding */
.sidepanel-container-inside-resize-border-padding {
  /* Make this a column flex container so panels can size their internal scroll area.
     Important: `min-height: 0` allows children with `min-height: 0` to shrink and
     enables overflow-y scrolling on nested flex children. */
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;
  min-height: 0;
  padding: var(--sidepanel-container-inside-resize-border-padding, 0.3em calc(min(5px, 0.5em) + 0.3em));
}

/* Sidepanel color and font styling */
.sidepanel-color-font-styling {
  font-family: var(--ui-font, Arial, sans-serif);
  font-size: var(--sidepanel-font-size, 12px);
  color: var(--text-color, var(--debug-color, #222));
  background: var(--sidepanel-background, var(--debug-color, #f0f0f0));
}

/* Sidepanel row styling */
.sidepanel-row-x-y-padding {
  padding: var(--sidepanel-row-x-y-padding);
}

.sidepanel-row-x-padding {
  padding: var(--sidepanel-row-x-padding); /* top, right, bottom, left */
}

.sidepanel-row-y-padding {
  padding: var(--sidepanel-row-y-padding, 0.2em 0); /* top, right, bottom, left */
}
.sidepanel-top-row-margin { /* y margin only */
  margin-top: var(--sidepanel-top-row-margin, min(5px, 0.5em));
}
.sidepanel-bottom-row-margin { /* y margin only */
  margin-bottom: var(--sidepanel-bottom-row-margin, min(5px, 0.5em));
}

/* -------------------------------------------------- */
/* Side panel buttons                                 */
/* -------------------------------------------------- */

.sidepanel__button {
  cursor: pointer;
  border: var(--border-thickness, 2px) solid var(--button-border-color, var(--debug-color, red));
  padding: var(--sidepanel-button-padding);
  border-radius: var(--button-border-radius, 0.25em);
  border: 0px solid var(--side-panel-border-color, #ccc);
  /* Custom button background styling - overrides sidepanel-color-font-styling */
  background: var(--button-transparent-off-color, var(--debug-color, red));
}

.sidepanel__button--active {
    background: var(--button-on-color, var(--debug-color, #2563eb));
    color: var(--text-color);
    border-color: var(--active-border-color, var(--debug-color, #2563eb));
}

.sidepanel__button:hover {
  background: var(--button-hover-color, var(--debug-color, red));
  border-color: var(--button-border-hover-color, var(--debug-color, red));
}

.sidepanel__button--disabled,
.sidepanel__button:disabled {
  background: var(--button-disabled-color, var(--debug-color));
  color: var(--button-disabled-text-color, var(--debug-color));
  border-color: var(--button-border-disabled-color, var(--debug-color));
  cursor: not-allowed;
}

.sidepanel__button--disabled:hover,
.sidepanel__button:disabled:hover {
  background: var(--button-disabled-color, var(--debug-color));
  border-color: var(--button-border-disabled-color, var(--debug-color));
  cursor: not-allowed;
}

.sidepanel__button--icon {
  align-items: center;
  justify-content: center;
}

.sidepanel__button--delete {
  background: var(--button-reset-color, salmon);
}

.sidepanel__button--delete:hover {
  background: var(--button-reset-hover-color, #2563eb);
}

/*------------------------*/
/* Specific test messages */
/*------------------------*/
.sidepanel__text-message--empty {
  font-style: italic;
  color: var(--text-color, gray);
}

/* -------------------------------------------------- */
/* Sidepanel container under menubar BASESTYLE
    - fills available width
    - scrollable if content exceeds available space
    - takes up remaining vertical space in side panel
  --------------------------------------------------- */
.sidepanel-flex-column-overflow-y {
  display: flex;
  flex-direction: column;
  flex: 1 1 auto;   /* fill remaining sidepanel space */
  min-height: 0;    /* allow children to shrink (important) */
  overflow-y: auto; /* the single scroll container */
  gap: var(--sidepanel-column-item-gap);
}

/* -------------------------------------------------- */
/* Sidepanel notebook styling                     */
/* -------------------------------------------------- */
.sidepanel__notebook-item {
  display: flex;
  align-items: center;
  cursor: pointer;
  padding: var(--sidepanel-notebook-item-padding);
  border: var(--sidepanel-notebook-item-border-width, 2px) solid var(--button-border-color, #ccc);
  border-radius: var(--button-border-radius, 0.35em);
}

.sidepanel__notebook-item-transparent-border { /* USE THIS FOR TITLES IN SIDEPANEL */
  display: flex;
  align-items: center;
  padding: var(--sidepanel-notebook-item-padding);
  border: var(--sidepanel-notebook-item-border-width, 2px) solid transparent; /* top, right, bottom, left */
}

.sidepanel__notebook-item--active {
  background: var(--button-on-color, var(--debug-color, #2563eb));
  border: var(--sidepanel-notebook-item-border-width, 2px) solid var(--active-border-color, #ccc);
}

.sidepanel__notebook-item--notebook-in-bin {
  opacity: 0.8;
  border-style: dashed;
}

.sidepanel__notebook-rename-input {
  border-radius: var(--border-radius, 2px);
  flex: 1 1 auto;
  width: 100%;
  box-sizing: border-box;
  outline: none;
  border: none;
  padding: 0.5em;
  font-weight: bold;
  /* Custom background styling overrides sidepanel-color-font-styling */
  background: var(--input-field-background-color, var(--debug-color, #2563eb));
}

.sidepanel__notebook_meta-info {
  font-size: 0.8em;
  color: var(--text-color, gray);
  margin-left: auto;
  opacity: 0.8;
}
/* -------------------------------------------------- */
/* Sidepanel Table of Contents (TOC) styling          */
/* -------------------------------------------------- */


.sidepanel__toc-item {
  cursor: pointer;
}
.sidepanel__toc-item:hover {
  background: var(--button-hover-color);
}

.sidepanel__toc-link {
  display: flex; 
  align-items: flex-start;
  gap: 1em;
  width: 100%;
  cursor: pointer;
  color: var(--link-color, #3e55b8);
}

.sidepanel__toc-numbering {
  font-variant-numeric: tabular-nums;
  color: var(--text-color, #3e55b8);
}

.sidepanel__toc-numbering::after {
    content: '';
}

  /* ------------------------------------ */
  /*     Settings sidepanels styling      */
  /* ------------------------------------ */

  .sidepanel__selector-row-with-gap-and-x-padding {
      padding: var(--sidepanel-row-x-padding);
      display: flex;
      align-items: center;
      gap: 0.5em;
  }

  .sidepanel__setting-row--dark-mode {
      /* Placeholder for dark mode styles (experimental) */
      background-color: black;
	    color: #cccccc;
   }

    /* Make checkboxes adopt a visible accent in dark mode (Chromium/Electron supports `accent-color`).
       Also provide some fallback visuals for older behavior. */
    input[type="checkbox"].sidepanel__setting-row--dark-mode {
      accent-color: var(--sidepanel-checkbox-accent, #cccccc);
      background-color: transparent;
      border-color: rgba(255,255,255,0.15);
    }

    /* If the class is applied to a label instead of the input, style a descendant checkbox too */
    .sidepanel__setting-row--dark-mode input[type="checkbox"] {
      accent-color: var(--sidepanel-checkbox-accent, #cccccc);
      background-color: transparent;
    }

        